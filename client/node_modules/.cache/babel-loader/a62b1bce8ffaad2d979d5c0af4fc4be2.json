{"ast":null,"code":"import _classCallCheck from\"/Users/apple/Documents/work/git/nest-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/apple/Documents/work/git/nest-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";var PersistentStorage=/*#__PURE__*/function(){function PersistentStorage(t){_classCallCheck(this,PersistentStorage);this.type=void 0;this.storage=void 0;this.type=t?t:'session';this.storage=this.type==='session'?sessionStorage:localStorage;}_createClass(PersistentStorage,[{key:\"setItem\",value:function setItem(key,data){this.storage.setItem(key,JSON.stringify(data));}},{key:\"getItem\",value:function getItem(key){var data=this.storage.getItem(key);return data?JSON.parse(data):null;}},{key:\"removeItem\",value:function removeItem(key){this.storage.removeItem(key);}},{key:\"clear\",value:function clear(){this.storage.clear();}}],[{key:\"instance\",get:function get(){if(!this._instance){this._instance=new PersistentStorage();}return this._instance;}}]);return PersistentStorage;}();PersistentStorage._instance=null;export{PersistentStorage as default};","map":{"version":3,"sources":["/Users/apple/Documents/work/git/nest-react/client/src/process/store/Storage.ts"],"names":["PersistentStorage","t","type","storage","sessionStorage","localStorage","key","data","setItem","JSON","stringify","getItem","parse","removeItem","clear","_instance"],"mappings":"iVAEqBA,CAAAA,iB,yBAMpB,2BAAYC,CAAZ,CAA8B,8CAJbC,IAIa,aAHtBC,OAGsB,QAC7B,KAAKD,IAAL,CAAYD,CAAC,CAAGA,CAAH,CAAO,SAApB,CACA,KAAKE,OAAL,CAAe,KAAKD,IAAL,GAAc,SAAd,CAA0BE,cAA1B,CAA2CC,YAA1D,CACA,C,sEAScC,G,CAAaC,I,CAAiB,CAC5C,KAAKJ,OAAL,CAAaK,OAAb,CAAqBF,GAArB,CAA0BG,IAAI,CAACC,SAAL,CAAeH,IAAf,CAA1B,EACA,C,wCAEcD,G,CAAkB,CAChC,GAAMC,CAAAA,IAAI,CAAG,KAAKJ,OAAL,CAAaQ,OAAb,CAAqBL,GAArB,CAAb,CACA,MAAOC,CAAAA,IAAI,CAAGE,IAAI,CAACG,KAAL,CAAWL,IAAX,CAAH,CAAsB,IAAjC,CACA,C,8CAEiBD,G,CAAmB,CACpC,KAAKH,OAAL,CAAaU,UAAb,CAAwBP,GAAxB,EACA,C,qCAEa,CACb,KAAKH,OAAL,CAAaW,KAAb,GACA,C,sCAtB+C,CAC/C,GAAI,CAAC,KAAKC,SAAV,CAAqB,CACpB,KAAKA,SAAL,CAAiB,GAAIf,CAAAA,iBAAJ,EAAjB,CACA,CACD,MAAO,MAAKe,SAAZ,CACA,C,iCAhBmBf,iB,CAIbe,S,CAAsC,I,QAJzBf,iB","sourcesContent":["export type STORAGE_TYPE = 'session' | 'local'\n\nexport default class PersistentStorage {\n\n\tprivate readonly type: STORAGE_TYPE;\n\tprivate storage: any;\n\tstatic _instance: PersistentStorage | null = null;\n\n\tconstructor(t?: STORAGE_TYPE) {\n\t\tthis.type = t ? t : 'session';\n\t\tthis.storage = this.type === 'session' ? sessionStorage : localStorage;\n\t}\n\n\tpublic static get instance(): PersistentStorage {\n\t\tif (!this._instance) {\n\t\t\tthis._instance = new PersistentStorage()\n\t\t}\n\t\treturn this._instance\n\t}\n\n\tpublic setItem(key: string, data: any): void {\n\t\tthis.storage.setItem(key, JSON.stringify(data));\n\t}\n\n\tpublic getItem(key: string): any {\n\t\tconst data = this.storage.getItem(key);\n\t\treturn data ? JSON.parse(data) : null\n\t}\n\n\tpublic removeItem(key: string): void {\n\t\tthis.storage.removeItem(key);\n\t}\n\n\tclear(): void {\n\t\tthis.storage.clear();\n\t}\n\n}\n"]},"metadata":{},"sourceType":"module"}