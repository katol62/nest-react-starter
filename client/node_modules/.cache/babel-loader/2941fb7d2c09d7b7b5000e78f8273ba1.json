{"ast":null,"code":"import _slicedToArray from\"/Users/apple/Documents/work/git/nest-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from\"react\";import{TopBar}from\"../components/Topbar\";import{Route,Switch,useLocation,useRouteMatch}from\"react-router\";import{pages,routes}from\"../../process/helpers/Routes\";import{NotFoundPage}from\"../pages/NotFound\";import{Container}from\"react-bootstrap\";import{SideBar}from\"../components/SideBar\";export var MainView=function MainView(){var location=useLocation();var dynamic=useRouteMatch(\"/users/:id\");var _useState=useState(false),_useState2=_slicedToArray(_useState,2),expanded=_useState2[0],setExpanded=_useState2[1];var _useState3=useState({title:''}),_useState4=_slicedToArray(_useState3,2),route=_useState4[0],setRoute=_useState4[1];useEffect(function(){var currentPath=dynamic?dynamic.path:location.pathname;var currentRoute=findRoute(currentPath);setRoute(currentRoute);},[location,dynamic]);var findRoute=function findRoute(path){return Object.values(routes).find(function(route){return route.path===path;});};var passExpanded=function passExpanded(value){setExpanded(value);};var selectedRoute=function selectedRoute(route){setRoute(route);};return/*#__PURE__*/_jsxs(Container,{fluid:true,children:[/*#__PURE__*/_jsx(SideBar,{notify:passExpanded,select:selectedRoute}),/*#__PURE__*/_jsxs(\"div\",{className:\"content \".concat(expanded?\"expanded\":\"\"),children:[/*#__PURE__*/_jsx(TopBar,{title:route.title}),/*#__PURE__*/_jsxs(Switch,{children:[pages.map(function(_ref,index){var route=_ref.route,exact=_ref.exact,component=_ref.component;return/*#__PURE__*/_jsx(Route,{path:route.path,exact:exact,component:component},index);}),/*#__PURE__*/_jsx(Route,{path:\"*\",exact:true,component:NotFoundPage})]})]})]});};","map":{"version":3,"sources":["/Users/apple/Documents/work/git/nest-react/client/src/ui/containers/MainView.tsx"],"names":["React","useEffect","useState","TopBar","Route","Switch","useLocation","useRouteMatch","pages","routes","NotFoundPage","Container","SideBar","MainView","location","dynamic","expanded","setExpanded","title","route","setRoute","currentPath","path","pathname","currentRoute","findRoute","Object","values","find","passExpanded","value","selectedRoute","map","index","exact","component"],"mappings":"gQAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAAQC,MAAR,KAAqB,sBAArB,CACA,OAAQC,KAAR,CAAeC,MAAf,CAAuBC,WAAvB,CAAoCC,aAApC,KAAwD,cAAxD,CACA,OAAQC,KAAR,CAAeC,MAAf,KAA4B,8BAA5B,CACA,OAAQC,YAAR,KAA2B,mBAA3B,CACA,OAAQC,SAAR,KAAwB,iBAAxB,CACA,OAAQC,OAAR,KAAsB,uBAAtB,CAEA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CAE7B,GAAMC,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CACA,GAAMS,CAAAA,OAAO,CAAGR,aAAa,cAA7B,CAH6B,cAIGL,QAAQ,CAAC,KAAD,CAJX,wCAItBc,QAJsB,eAIZC,WAJY,8BAKHf,QAAQ,CAAC,CAACgB,KAAK,CAAE,EAAR,CAAD,CALL,yCAKtBC,KALsB,eAKfC,QALe,eAO7BnB,SAAS,CAAE,UAAM,CAChB,GAAMoB,CAAAA,WAAW,CAAGN,OAAO,CAAGA,OAAO,CAACO,IAAX,CAAkBR,QAAQ,CAACS,QAAtD,CACA,GAAMC,CAAAA,YAAY,CAAGC,SAAS,CAACJ,WAAD,CAA9B,CACAD,QAAQ,CAACI,YAAD,CAAR,CACA,CAJQ,CAIN,CAACV,QAAD,CAAWC,OAAX,CAJM,CAAT,CAMA,GAAMU,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACH,IAAD,CAAuB,CACxC,MAAOI,CAAAA,MAAM,CAACC,MAAP,CAAclB,MAAd,EAAsBmB,IAAtB,CAA4B,SAAAT,KAAK,QAAIA,CAAAA,KAAK,CAACG,IAAN,GAAeA,IAAnB,EAAjC,CAAP,CACA,CAFD,CAIA,GAAMO,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAoB,CACxCb,WAAW,CAACa,KAAD,CAAX,CACA,CAFD,CAGA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACZ,KAAD,CAAgB,CACrCC,QAAQ,CAACD,KAAD,CAAR,CACA,CAFD,CAIA,mBACC,MAAC,SAAD,EAAW,KAAK,KAAhB,wBACC,KAAC,OAAD,EAAS,MAAM,CAAEU,YAAjB,CAA+B,MAAM,CAAEE,aAAvC,EADD,cAEC,aAAK,SAAS,mBAAaf,QAAQ,CAAG,UAAH,CAAgB,EAArC,CAAd,wBACC,KAAC,MAAD,EAAQ,KAAK,CAAEG,KAAK,CAACD,KAArB,EADD,cAEC,MAAC,MAAD,YAEEV,KAAK,CAACwB,GAAN,CACC,cAA8BC,KAA9B,KAAGd,CAAAA,KAAH,MAAGA,KAAH,CAAUe,KAAV,MAAUA,KAAV,CAAiBC,SAAjB,MAAiBA,SAAjB,oBACC,KAAC,KAAD,EAAmB,IAAI,CAAEhB,KAAK,CAACG,IAA/B,CAAqC,KAAK,CAAEY,KAA5C,CAAmD,SAAS,CAAEC,SAA9D,EAAYF,KAAZ,CADD,EADD,CAFF,cAOC,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,KAAK,CAAE,IAAvB,CAA6B,SAAS,CAAEvB,YAAxC,EAPD,GAFD,GAFD,GADD,CAkBA,CA1CM","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {TopBar} from \"../components/Topbar\";\nimport {Route, Switch, useLocation, useRouteMatch} from \"react-router\";\nimport {pages, routes} from \"../../process/helpers/Routes\";\nimport {NotFoundPage} from \"../pages/NotFound\";\nimport {Container} from \"react-bootstrap\";\nimport {SideBar} from \"../components/SideBar\";\n\nexport const MainView = () => {\n\n\tconst location = useLocation();\n\tconst dynamic = useRouteMatch(`/users/:id`)\n\tconst [expanded, setExpanded] = useState(false);\n\tconst [route, setRoute] = useState({title: ''})\n\n\tuseEffect( () => {\n\t\tconst currentPath = dynamic ? dynamic.path : location.pathname;\n\t\tconst currentRoute = findRoute(currentPath);\n\t\tsetRoute(currentRoute);\n\t}, [location, dynamic]);\n\n\tconst findRoute = (path: string): any => {\n\t\treturn Object.values(routes).find( route => route.path === path);\n\t}\n\n\tconst passExpanded = (value: boolean) => {\n\t\tsetExpanded(value);\n\t}\n\tconst selectedRoute = (route: any) => {\n\t\tsetRoute(route);\n\t}\n\n\treturn (\n\t\t<Container fluid>\n\t\t\t<SideBar notify={passExpanded} select={selectedRoute} />\n\t\t\t<div className={`content ${expanded ? \"expanded\" : \"\"}`}>\n\t\t\t\t<TopBar title={route.title} />\n\t\t\t\t<Switch>\n\t\t\t\t\t{\n\t\t\t\t\t\tpages.map(\n\t\t\t\t\t\t\t({ route, exact, component }, index) =>\n\t\t\t\t\t\t\t\t<Route key={index} path={route.path} exact={exact} component={component} />\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\t<Route path='*' exact={true} component={NotFoundPage} />\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t</Container>\n\n\t)\n}\n"]},"metadata":{},"sourceType":"module"}