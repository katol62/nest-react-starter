{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/apple/Documents/work/git/nest-react/client/src/ui/components/Topbar.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Navbar } from \"react-bootstrap\";\nimport { BoxArrowRight } from \"react-bootstrap-icons\";\nimport { useQuery } from \"@apollo/client\";\nimport { LOGGED_IN_USER } from \"../../process/apollo/GqlData\";\nimport PersistentStorage from \"../../process/store/Storage\";\nconst storage = PersistentStorage.instance;\nexport const TopBar = ({\n  title\n}) => {\n  _s();\n\n  const [currentUser, setCurrentUser] = useState(null);\n  const {\n    data\n  } = useQuery(LOGGED_IN_USER);\n  useEffect(() => {\n    debugger;\n    const user = data.user;\n    setCurrentUser(user);\n  }, [data]);\n\n  const logout = () => {\n    storage.clear();\n  };\n\n  return /*#__PURE__*/_jsxDEV(Navbar, {\n    bg: \"light\",\n    expand: \"lg\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar.Brand, {\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Navbar.Toggle, {\n      \"aria-controls\": \"basic-navbar-nav\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n      id: \"basic-navbar-nav\",\n      className: \"justify-content-end\",\n      children: /*#__PURE__*/_jsxDEV(Navbar.Text, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"pr-3\",\n          children: currentUser ? `User: ${currentUser.phone}` : ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(BoxArrowRight, {\n          className: \"pointer\",\n          style: {\n            fontSize: '1.75em'\n          },\n          onClick: logout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 3\n  }, this);\n};\n\n_s(TopBar, \"noWsVVENhN5rKx73CjVrEX1aMIU=\", false, function () {\n  return [useQuery];\n});\n\n_c = TopBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"TopBar\");","map":{"version":3,"sources":["/Users/apple/Documents/work/git/nest-react/client/src/ui/components/Topbar.tsx"],"names":["React","useEffect","useState","Navbar","BoxArrowRight","useQuery","LOGGED_IN_USER","PersistentStorage","storage","instance","TopBar","title","currentUser","setCurrentUser","data","user","logout","clear","phone","fontSize"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,MAAR,QAAqB,iBAArB;AACA,SAAQC,aAAR,QAA4B,uBAA5B;AAEA,SAAQC,QAAR,QAAuB,gBAAvB;AACA,SAAQC,cAAR,QAA6B,8BAA7B;AACA,OAAOC,iBAAP,MAA8B,6BAA9B;AAEA,MAAMC,OAAO,GAAGD,iBAAiB,CAACE,QAAlC;AAEA,OAAO,MAAMC,MAAM,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAkB;AAAA;;AAEvC,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCX,QAAQ,CAAe,IAAf,CAA9C;AACA,QAAM;AAAEY,IAAAA;AAAF,MAAWT,QAAQ,CAACC,cAAD,CAAzB;AAEAL,EAAAA,SAAS,CAAC,MAAM;AACf;AACA,UAAMc,IAAI,GAAGD,IAAI,CAACC,IAAlB;AACAF,IAAAA,cAAc,CAACE,IAAD,CAAd;AACA,GAJQ,EAIN,CAACD,IAAD,CAJM,CAAT;;AAMA,QAAME,MAAM,GAAG,MAAM;AACpBR,IAAAA,OAAO,CAACS,KAAR;AACA,GAFD;;AAIA,sBACC,QAAC,MAAD;AAAQ,IAAA,EAAE,EAAC,OAAX;AAAmB,IAAA,MAAM,EAAC,IAA1B;AAAA,4BACC,QAAC,MAAD,CAAQ,KAAR;AAAA,gBAAeN;AAAf;AAAA;AAAA;AAAA;AAAA,YADD,eAEC,QAAC,MAAD,CAAQ,MAAR;AAAe,uBAAc;AAA7B;AAAA;AAAA;AAAA;AAAA,YAFD,eAGC,QAAC,MAAD,CAAQ,QAAR;AAAiB,MAAA,EAAE,EAAC,kBAApB;AAAuC,MAAA,SAAS,EAAC,qBAAjD;AAAA,6BACC,QAAC,MAAD,CAAQ,IAAR;AAAA,gCACC;AAAM,UAAA,SAAS,EAAC,MAAhB;AAAA,oBACEC,WAAW,GAAI,SAAQA,WAAW,CAACM,KAAM,EAA9B,GAAkC;AAD/C;AAAA;AAAA;AAAA;AAAA,gBADD,eAIC,QAAC,aAAD;AAAe,UAAA,SAAS,EAAC,SAAzB;AAAmC,UAAA,KAAK,EAAE;AAAEC,YAAAA,QAAQ,EAAE;AAAZ,WAA1C;AAAkE,UAAA,OAAO,EAAEH;AAA3E;AAAA;AAAA;AAAA;AAAA,gBAJD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YAHD;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AAeA,CA9BM;;GAAMN,M;UAGKL,Q;;;KAHLK,M","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {Navbar} from \"react-bootstrap\";\nimport {BoxArrowRight} from \"react-bootstrap-icons\";\nimport {IUser} from \"../../process/helpers/Models\";\nimport {useQuery} from \"@apollo/client\";\nimport {LOGGED_IN_USER} from \"../../process/apollo/GqlData\";\nimport PersistentStorage from \"../../process/store/Storage\";\n\nconst storage = PersistentStorage.instance;\n\nexport const TopBar = ({title}: any) => {\n\n\tconst [currentUser, setCurrentUser] = useState<IUser | null>(null);\n\tconst { data } = useQuery(LOGGED_IN_USER);\n\n\tuseEffect(() => {\n\t\tdebugger;\n\t\tconst user = data.user;\n\t\tsetCurrentUser(user);\n\t}, [data])\n\n\tconst logout = () => {\n\t\tstorage.clear();\n\t}\n\n\treturn (\n\t\t<Navbar bg=\"light\" expand=\"lg\">\n\t\t\t<Navbar.Brand>{title}</Navbar.Brand>\n\t\t\t<Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n\t\t\t<Navbar.Collapse id=\"basic-navbar-nav\" className=\"justify-content-end\">\n\t\t\t\t<Navbar.Text>\n\t\t\t\t\t<span className=\"pr-3\">\n\t\t\t\t\t\t{currentUser ? `User: ${currentUser.phone}` : ''}\n\t\t\t\t\t</span>\n\t\t\t\t\t<BoxArrowRight className=\"pointer\" style={{ fontSize: '1.75em' }} onClick={logout} />\n\t\t\t\t</Navbar.Text>\n\t\t\t</Navbar.Collapse>\n\t\t</Navbar>\n\n\t)\n}\n"]},"metadata":{},"sourceType":"module"}