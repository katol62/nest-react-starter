{"ast":null,"code":"export default class PersistentStorage {\n  constructor(t) {\n    this.type = void 0;\n    this.storage = void 0;\n    this.type = t ? t : 'session';\n    this.storage = this.type === 'session' ? sessionStorage : localStorage;\n  }\n\n  static get instance() {\n    if (!this._instance) {\n      this._instance = new PersistentStorage();\n    }\n\n    return this._instance;\n  }\n\n  setItem(key, data) {\n    this.storage.setItem(key, JSON.stringify(data));\n  }\n\n  getItem(key) {\n    const data = this.storage.getItem(key);\n    return data ? JSON.parse(data) : null;\n  }\n\n  removeItem(key) {\n    this.storage.removeItem(key);\n  }\n\n  clear() {\n    this.storage.clear();\n  }\n\n}\nPersistentStorage._instance = null;","map":{"version":3,"sources":["/Users/apple/Documents/work/git/nest-react/client/src/process/store/Storage.ts"],"names":["PersistentStorage","constructor","t","type","storage","sessionStorage","localStorage","instance","_instance","setItem","key","data","JSON","stringify","getItem","parse","removeItem","clear"],"mappings":"AAEA,eAAe,MAAMA,iBAAN,CAAwB;AAMtCC,EAAAA,WAAW,CAACC,CAAD,EAAmB;AAAA,SAJbC,IAIa;AAAA,SAHtBC,OAGsB;AAC7B,SAAKD,IAAL,GAAYD,CAAC,GAAGA,CAAH,GAAO,SAApB;AACA,SAAKE,OAAL,GAAe,KAAKD,IAAL,KAAc,SAAd,GAA0BE,cAA1B,GAA2CC,YAA1D;AACA;;AAED,aAAkBC,QAAlB,GAAgD;AAC/C,QAAI,CAAC,KAAKC,SAAV,EAAqB;AACpB,WAAKA,SAAL,GAAiB,IAAIR,iBAAJ,EAAjB;AACA;;AACD,WAAO,KAAKQ,SAAZ;AACA;;AAEMC,EAAAA,OAAP,CAAeC,GAAf,EAA4BC,IAA5B,EAA6C;AAC5C,SAAKP,OAAL,CAAaK,OAAb,CAAqBC,GAArB,EAA0BE,IAAI,CAACC,SAAL,CAAeF,IAAf,CAA1B;AACA;;AAEMG,EAAAA,OAAP,CAAeJ,GAAf,EAAiC;AAChC,UAAMC,IAAI,GAAG,KAAKP,OAAL,CAAaU,OAAb,CAAqBJ,GAArB,CAAb;AACA,WAAOC,IAAI,GAAGC,IAAI,CAACG,KAAL,CAAWJ,IAAX,CAAH,GAAsB,IAAjC;AACA;;AAEMK,EAAAA,UAAP,CAAkBN,GAAlB,EAAqC;AACpC,SAAKN,OAAL,CAAaY,UAAb,CAAwBN,GAAxB;AACA;;AAEDO,EAAAA,KAAK,GAAS;AACb,SAAKb,OAAL,CAAaa,KAAb;AACA;;AAjCqC;AAAlBjB,iB,CAIbQ,S,GAAsC,I","sourcesContent":["export type STORAGE_TYPE = 'session' | 'local'\n\nexport default class PersistentStorage {\n\n\tprivate readonly type: STORAGE_TYPE;\n\tprivate storage: any;\n\tstatic _instance: PersistentStorage | null = null;\n\n\tconstructor(t?: STORAGE_TYPE) {\n\t\tthis.type = t ? t : 'session';\n\t\tthis.storage = this.type === 'session' ? sessionStorage : localStorage;\n\t}\n\n\tpublic static get instance(): PersistentStorage {\n\t\tif (!this._instance) {\n\t\t\tthis._instance = new PersistentStorage()\n\t\t}\n\t\treturn this._instance\n\t}\n\n\tpublic setItem(key: string, data: any): void {\n\t\tthis.storage.setItem(key, JSON.stringify(data));\n\t}\n\n\tpublic getItem(key: string): any {\n\t\tconst data = this.storage.getItem(key);\n\t\treturn data ? JSON.parse(data) : null\n\t}\n\n\tpublic removeItem(key: string): void {\n\t\tthis.storage.removeItem(key);\n\t}\n\n\tclear(): void {\n\t\tthis.storage.clear();\n\t}\n\n}\n"]},"metadata":{},"sourceType":"module"}